---
import TagList from "./TagList.astro";

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  tags?: string[];
  slug: string;
  heroImage?: string;
}

const { title, description, pubDate, tags = [], slug } = Astro.props;

const formattedDate = pubDate.toLocaleDateString("en-US", {
  year: "numeric",
  month: "short",
  day: "numeric",
});
---

<article class="group border-b border-black/20 last:border-b-0">
  <a href={`/blog/posts/${slug}/`} class="block py-5">
    <div class="flex flex-col gap-1.5">
      <div class="flex items-baseline justify-between gap-4">
        <h2 class="text-lg font-medium text-balance group-hover:underline group-hover:underline-offset-4">
          {title}
        </h2>
        <time
          datetime={pubDate.toISOString()}
          class="text-sm tabular-nums shrink-0 opacity-60"
        >
          {formattedDate}
        </time>
      </div>
      <p class="text-sm text-pretty opacity-60 line-clamp-2">
        {description}
      </p>
      {tags.length > 0 && (
        <div class="mt-1">
          <TagList tags={tags} small />
        </div>
      )}
    </div>
  </a>
</article>
