---
import BaseLayout from "./BaseLayout.astro";

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  updatedDate?: Date;
  heroImage?: string;
  tags?: string[];
  headings?: { depth: number; slug: string; text: string }[];
}

const { title, description, pubDate, heroImage } = Astro.props;

const formattedDate = pubDate.toLocaleDateString("en-US", {
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<BaseLayout title={`${title} | Blog`} description={description} image={heroImage}>
  <article class="py-8">
    <a href="/blog/" class="text-sm opacity-50 hover:opacity-100 transition-opacity duration-150">
      &larr; Writing
    </a>

    <header class="mt-8 mb-10">
      <h1 class="text-2xl font-semibold leading-snug mb-2">
        {title}
      </h1>
      <time datetime={pubDate.toISOString()} class="text-sm opacity-40">{formattedDate}</time>
    </header>

    {heroImage && (
      <img
        src={heroImage}
        alt={title}
        class="w-full mb-8"
        loading="eager"
      />
    )}

    <div class="prose prose-base max-w-none">
      <slot />
    </div>
  </article>
</BaseLayout>
